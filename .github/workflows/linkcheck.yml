name: Hugo Link Check

on:
  pull_request:    
  workflow_dispatch:

jobs:
  linkcheck:
    runs-on: ubuntu-latest
    steps:
      - name: Filter to PR Open/Synced
        uses: actions/bin/filter@main
        with:
          args: action 'opened|synchronize'

      - name: Run Hugo Link Check
        uses: marccampbell/hugo-linkcheck-action@v0.1.3
        env:
          HUGO_CONFIG: "./website/config.toml"
          HUGO_ROOT: "./website"
          HUGO_CONTENT_ROOT: "./website/content"
          HUGO_FINAL_URL: "https://clusterlink.net"
